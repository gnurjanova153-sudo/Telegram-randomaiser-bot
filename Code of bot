from aiogram import Bot, Dispatcher, executor, types
import random
TOKEN = "8391903071:AAEJ6d1pJCTJNlRcTtv5WQ5cRkHdw6pfidE"
bot = Bot(TOKEN)
dp = Dispatcher(bot)

secret_number = random.randint(1, 10)
startanswer = """Welcome to our bot!
With our bot, you can play the guessing game using the /startgame command.
You can also view the list of all commands with /help.
"""

helptext = """ All commands list:
/start - Starts the bot
/startgame - Starts the guessing game
/help - show all commands
"""

@dp.message_handler(commands=['start'])
async def start(message: types.Message):
    await message.answer(text=startanswer)

@dp.message_handler(commands=['help'])
async def helpcommand(message: types.Message):
    await message.answer(text=helptext)
@dp.message_handler(commands=['startgame'])

async def startgame(message: types.Message):
    await message.answer("I have chosen a number between 1 and 10. Try to guess!")

@dp.message_handler()
async def guess_number(message: types.Message):
    global secret_number
    try:
        guess = int(message.text)
    except ValueError:
        await message.answer("Please enter a number from 1 to 10 ðŸ”¢")
        return

    if 1 <= guess <= 10:
        if guess == secret_number:
            await message.answer("Well done, you guessed the number!")
            secret_number = random.randint(1, 10)  
        else:
            await message.answer("Bad luck, try again!")
    else:
        await message.answer("Enter a number between 1 and 10!")
if __name__ == "__main__":
    executor.start_polling(dp, skip_updates=True)
